<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Platform Settings | SmartLearn Admin</title>
  <link rel="stylesheet" href="../styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
</head>
<body>
  <header class="header"><div class="logo"><i class="fas fa-brain"></i> SmartLearn</div><nav class="header-nav"><a href="admin.html">Admin Dashboard</a></nav></header>
  <main class="main-content page-admin-settings" style="padding:1rem">
    <h2 class="section-title">Platform Settings</h2>
    <div class="table-container">
      <h3>Appearance</h3>
      <form id="platformAppearanceForm" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem">
        <div><label>Theme</label><select id="platformTheme"><option>Light</option><option>Dark</option><option>System</option></select></div>
        <div><label>Font</label><input type="text" id="platformFont" placeholder="e.g., Inter, Roboto" /></div>
        <div><label>Brand Logo</label><input type="file" id="platformLogo" accept="image/*" /></div>
        <button class="btn btn-primary" type="submit">Save Appearance</button>
      </form>
    </div>
    <div class="table-container">
      <h3>Access Levels</h3>
      <form id="platformAccessForm" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem">
        <div><label>Admin</label><input type="checkbox" id="roleAdmin" checked /></div>
        <div><label>Lecturer</label><input type="checkbox" id="roleLecturer" checked /></div>
        <div><label>Student</label><input type="checkbox" id="roleStudent" checked /></div>
        <button class="btn btn-primary" type="submit">Save Access</button>
      </form>
    </div>
    <div class="table-container">
      <h3>Uploads & Storage</h3>
      <form id="platformUploadForm" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem">
        <div><label>File Size Limit (MB)</label><input type="number" id="uploadLimit" value="50" /></div>
        <div><label>Backup</label><button class="btn" id="backupBtn" type="button">Run Backup</button></div>
        <div><label>Restore</label><button class="btn" id="restoreBtn" type="button">Restore Backup</button></div>
        <button class="btn btn-primary" type="submit">Save Upload Settings</button>
      </form>
    </div>
    <div class="table-container">
      <h3>Email & Notifications</h3>
      <form id="platformEmailForm" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem">
        <div><label>SMTP Server</label><input type="text" id="smtpServer" /></div>
        <div><label>Sender Email</label><input type="email" id="senderEmail" /></div>
        <div><label>Send Test</label><button class="btn" id="sendTestEmail" type="button">Send Test Email</button></div>
        <button class="btn btn-primary" type="submit">Save Email Settings</button>
      </form>
    </div>
  </main>
  <script>
    function pushAdminLog(text){ try{ const r = localStorage.getItem('adminLogs'); const list = r?JSON.parse(r):[]; list.unshift({ ts:new Date().toLocaleString(), text }); localStorage.setItem('adminLogs', JSON.stringify(list)); }catch(e){} }
    function initializeAdminSettingsPage(){ const root = document.querySelector('.page-admin-settings'); if(!root) return; const appForm = document.getElementById('platformAppearanceForm'); const accForm = document.getElementById('platformAccessForm'); const uplForm = document.getElementById('platformUploadForm'); const emForm = document.getElementById('platformEmailForm'); function saveObj(key,obj){ try{ localStorage.setItem(key, JSON.stringify(obj)) }catch(e){} } if(appForm){ appForm.addEventListener('submit', (ev)=>{ ev.preventDefault(); saveObj('platformAppearance', { theme: document.getElementById('platformTheme').value, font: document.getElementById('platformFont').value }); }); } if(accForm){ accForm.addEventListener('submit', (ev)=>{ ev.preventDefault(); saveObj('platformAccess', { admin: document.getElementById('roleAdmin').checked, lecturer: document.getElementById('roleLecturer').checked, student: document.getElementById('roleStudent').checked }); }); } if(uplForm){ uplForm.addEventListener('submit', (ev)=>{ ev.preventDefault(); saveObj('platformUpload', { limitMB: document.getElementById('uploadLimit').value }); }); document.getElementById('backupBtn').addEventListener('click', ()=>{ pushAdminLog('Backup executed'); alert('Backup completed'); }); document.getElementById('restoreBtn').addEventListener('click', ()=>{ pushAdminLog('Restore executed'); alert('Restore completed'); }); } if(emForm){ emForm.addEventListener('submit', (ev)=>{ ev.preventDefault(); saveObj('platformEmail', { smtp: document.getElementById('smtpServer').value, sender: document.getElementById('senderEmail').value }); }); const testBtn = document.getElementById('sendTestEmail'); if(testBtn){ testBtn.addEventListener('click', ()=>{ alert('Test email sent'); pushAdminLog('Test email sent'); }); } } }
    initializeAdminSettingsPage();
  </script>
  </body>
  </html>
